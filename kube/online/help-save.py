
from pprint import pprint
import time
import json
import math
import argparse

import matplotlib.pyplot as plt
import matplotlib.animation as animation
from matplotlib import style
import numpy as np


# Import seaborn
import seaborn as sns

# a = [1,2,3,4,6,6]

# with open("output.txt", "a") as f:
#     print("a:", a, file=f)

#------cpu usage size: 301
hw_slacks = [535.0, 460.0, 395.108076, 390.11862, 395.002678, 317.771776, 317.771776, 318.73819000000003, 317.31265099999996, 268.64281800000003, 271.92945599999996, 272.473244, 272.777397, 230.137189, 193.22850499999998, 199.575226, 197.03594099999998, 195.32336299999997, 147.09464200000002, 157.338913, 148.28400399999998, 148.40763900000002, 107.389951, 122.56824799999998, 174.56824799999998, 212.22261300000002, 168.99911600000001, 158.776658, 173.001217, 185.484153, 154.496716, 158.41931, 158.0749, 155.710963, 130.88856600000003, 131.652622, 127.69389699999999, 100.81650000000002, 106.02129200000002, 98.62588199999999, 99.37690800000001, 116.81083699999999, 102.06332700000002, 99.17067300000002, 99.17067300000002, 101.002478, 95.22474699999998, 95.88831900000002, 100.60185899999999, 118.49637100000001, 102.58572500000002, 101.530262, 101.530262, 121.18434500000001, 131.54510599999998, 131.77337899999998, 133.68957899999998, 173.77319, 157.692616, 154.06433900000002, 160.29331100000002, 179.61435799999998, 165.136997, 112.13699700000001, 158.539395, 136.45941299999998, 123.79684900000001, 135.90279900000002, 123.672552, 180.082422, 160.62359700000002, 165.461145, 160.976715, 208.126525, 206.253339, 206.253339, 191.18740200000002, 248.843999, 272.684005, 276.33770300000003, 276.33770300000003, 73.337703, 120.86637300000001, 117.15338700000001, 118.524092, 179.500021, 186.526706, 187.036411, 185.75399, 187.99241999999998, 189.94813399999998, 192.472834, 185.486309, 192.585665, 188.49864, 189.83625899999998, 190.47345, 193.970537, 188.475146, 123.475146, 128.58964, 123.360573, 127.16393099999999, 125.96782, 122.253984, 129.535584, 127.307756, 127.127317, 126.693158, 120.83955, 130.224521, 126.540766, 128.694111, 122.571104, 125.356834, 128.45811, 125.190061, 127.93382600000001, 125.615224, 124.763065, 128.747, 126.904983, 126.53559, 122.380283, 127.804168, 125.454567, 125.454567, 125.149729, 129.390891, 123.829072, 121.986922, 121.986922, 123.149635, 245.149635, 247.410289, 248.499158, 248.028216, 249.271972, 248.434686, 253.51815, 248.206002, 244.729157, 248.61982899999998, 248.365388, 249.989674, 249.989674, 247.720617, 248.94465300000002, 246.723311, 195.60870599999998, 186.36577599999998, 321.365776, 321.011931, 291.054159, 269.700505, 257.460724, 266.62726599999996, 233.631003, 201.347158, 193.956564, 191.185063, 194.478394, 142.82133499999998, 145.36681399999998, 160.41308299999997, 160.41308299999997, 107.02565700000002, 109.982125, 108.84585399999997, 173.84585399999997, 182.602491, 172.04359799999997, 174.85805900000003, 178.53738099999998, 166.15212300000002, 164.64671600000003, 177.36373200000003, 140.673613, 140.32403599999998, 136.21768600000001, 136.41553699999997, 135.018394, 109.19891000000001, 107.45948900000002, 109.375363, 111.28474599999998, 108.869595, 108.75368900000001, 108.33807300000001, 105.94449200000003, 103.908705, 108.79169000000002, 105.35665999999998, 121.920861, 107.18949800000001, 106.78163, 107.155527, 141.22024199999998, 137.85983399999998, 136.663475, 138.834178, 176.536047, 165.41952300000003, 167.19723299999998, 116.19723299999998, 151.335109, 116.58166, 114.913904, 119.30070599999999, 131.740296, 121.79018400000001, 118.383465, 132.99717700000002, 158.86167, 154.25420000000003, 157.08766400000002, 151.53835099999998, 201.023484, 196.067765, 211.183056, 189.28454499999998, 258.1913, 94.19130000000001, 117.155911, 118.97382400000001, 161.321215, 161.321215, 169.492274, 161.373768, 226.487329, 234.711974, 233.88101699999999, 238.270656, 238.270656, 234.082468, 233.685765, 228.546788, 228.546788, 229.703669, 235.672852, 125.672852, 123.537753, 118.717535, 123.169274, 119.737176, 119.737176, 119.008843, 119.008843, 121.225105, 121.303582, 121.303582, 118.397951, 120.113781, 120.515709, 122.487875, 122.529705, 121.869559, 120.576423, 122.975626, 122.304204, 125.936764, 122.990061, 122.990061, 120.518692, 123.488246, 120.991287, 120.991287, 124.267214, 124.267214, 119.238732, 120.32754, 119.457013, 123.451862, 121.974012, 205.97401200000002, 210.195573, 199.308083, 204.771939, 201.275986, 204.388925, 202.0572, 202.432863, 204.350222, 203.794036, 207.784908, 203.247165, 202.85446100000001, 199.763099, 202.482925, 207.684124, 202.65206, 200.977722, 388.97772199999997, 355.858254, 322.445133, 318.42681400000004, 330.044579, 288.786581, 276.464746, 276.232937, 275.634214, 275.634214, 200.21384, 200.21384, 197.57500399999998, 208.187914, 155.854012, 159.84173500000003, 168.423411, 168.423411, 136.357818, 123.82505500000002, 176.82505500000002, 216.31284599999998, 170.357713, 164.555384, 170.41042800000002, 177.252613, 177.252613, 159.84071999999998, 170.18208600000003, 170.18208600000003, 125.07489900000002, 122.60747600000002, 124.21640300000001, 117.19075099999998, 117.19075099999998, 101.92648100000002, 104.41604799999999, 110.877789, 96.368653, 91.33445999999998, 99.50872399999997, 100.35207300000002, 93.88934, 93.88934, 99.11538300000001, 120.68895199999997, 99.883376, 97.90671700000001, 96.51482499999997, 135.15231999999997, 127.680026, 125.860795, 131.496754, 163.72769599999998, 158.6809, 162.25067, 160.950923, 108.95092299999999, 145.414446, 114.66397599999999, 112.28198800000001, 139.17037699999997, 126.242413, 131.766441, 110.89544799999999, 163.58229699999998, 166.585577, 163.53449999999998, 162.542083, 234.084455, 210.986749, 210.986749, 200.14350000000002, 235.621518, 278.907196, 100.907196, 105.092757, 149.278363, 142.284301, 156.68532299999998, 149.236482, 207.096326, 207.096326, 222.993958, 221.027227, 221.82923399999999, 223.55290200000002, 220.081157, 220.611188, 218.55527999999998, 217.06825700000002, 215.438558, 218.82993199999999, 121.829932, 121.64299, 122.075148, 121.951664, 114.687978, 120.558715, 120.558715, 117.705054, 117.705054, 120.618029, 117.355872, 116.85862, 118.988523, 120.221199, 118.622299, 120.624011, 121.010191, 116.962006, 119.03089, 114.320039, 114.924685, 117.620241, 114.640622, 117.160717, 117.682753, 122.84064599999999, 122.84064599999999, 119.451621, 113.641142, 120.199343, 118.107164, 180.107164, 182.83066300000002, 182.925708, 181.481605, 183.406548, 183.456426, 179.079511, 178.942711, 175.476192, 178.524477, 183.42080099999998, 178.65362299999998, 183.323857, 177.563174, 183.270762, 185.368109]
vpa_slacks = [476.0, 476.0, 411.108076, 406.11862, 411.002678, 333.771776, 333.771776, 334.73819000000003, 299.31265099999996, 250.642818, 253.929456, 254.473244, 254.777397, 212.137189, 175.22850499999998, 181.575226, 179.03594099999998, 177.32336299999997, 129.09464200000002, 139.338913, 130.28400399999998, 130.40763900000002, 89.389951, 104.56824799999998, 104.56824799999998, 142.22261300000002, 98.99911600000001, 88.776658, 103.001217, 115.48415299999999, 84.49671599999999, 88.41931, 88.07490000000001, 85.71096299999999, 60.888566000000026, 61.65262200000001, 57.69389699999999, 30.81650000000002, 36.02129200000002, 28.62588199999999, 63.376908000000014, 80.81083699999999, 66.06332700000002, 63.17067300000002, 63.17067300000002, 65.002478, 59.22474699999998, 59.888319000000024, 64.60185899999999, 82.49637100000001, 66.58572500000002, 65.530262, 65.530262, 85.18434500000001, 95.54510599999998, 95.77337899999998, 97.68957899999998, 137.77319, 121.69261599999999, 118.06433900000002, 124.29331100000002, 143.61435799999998, 129.136997, 129.136997, 175.539395, 153.45941299999998, 140.796849, 152.90279900000002, 140.672552, 197.082422, 177.62359700000002, 182.461145, 177.976715, 225.126525, 223.253339, 223.253339, 208.18740200000002, 265.843999, 289.684005, 293.33770300000003, 293.33770300000003, 293.33770300000003, 340.866373, 337.153387, 338.524092, 399.500021, 406.526706, 407.036411, 405.75399, 407.99242, 409.948134, 412.472834, 405.486309, 412.585665, 408.49864, 409.836259, 410.47345, 413.970537, 408.475146, 408.475146, 413.58964000000003, 408.360573, 412.163931, 410.96782, 407.253984, 414.535584, 412.307756, 412.127317, 411.693158, 405.83955000000003, 415.224521, 411.540766, 413.694111, 407.571104, 410.356834, 413.45811, 410.190061, 412.933826, 410.615224, 409.763065, 413.747, 411.904983, 411.53559, 407.380283, 412.804168, 410.454567, 410.454567, 410.149729, 414.390891, 408.829072, 406.986922, 406.986922, 408.149635, 408.149635, 410.41028900000003, 411.49915799999997, 411.028216, 412.271972, 411.434686, 416.51815, 411.206002, 407.729157, 411.619829, 411.365388, 378.989674, 378.989674, 376.720617, 377.944653, 375.72331099999997, 324.608706, 315.365776, 315.365776, 315.011931, 285.054159, 263.700505, 251.460724, 260.62726599999996, 227.631003, 195.347158, 187.956564, 185.185063, 188.478394, 136.82133499999998, 139.36681399999998, 154.41308299999997, 154.41308299999997, 101.02565700000002, 103.982125, 102.84585399999997, 102.84585399999997, 111.60249099999999, 101.04359799999997, 103.85805900000003, 107.53738099999998, 95.15212300000002, 93.64671600000003, 106.36373200000003, 69.67361299999999, 69.32403599999998, 65.21768600000001, 65.41553699999997, 64.018394, 38.19891000000001, 36.45948900000002, 72.375363, 74.28474599999998, 71.869595, 71.75368900000001, 71.33807300000001, 68.94449200000003, 66.908705, 71.79169000000002, 68.35665999999998, 84.920861, 70.18949800000001, 69.78163, 70.155527, 104.22024199999998, 100.85983399999998, 99.663475, 101.83417800000001, 139.536047, 128.41952300000003, 130.19723299999998, 130.19723299999998, 165.335109, 130.58166, 128.913904, 133.300706, 145.740296, 135.790184, 132.383465, 146.99717700000002, 172.86167, 168.25420000000003, 171.08766400000002, 165.53835099999998, 215.023484, 210.067765, 225.183056, 203.28454499999998, 272.1913, 272.1913, 295.155911, 296.97382400000004, 339.321215, 339.321215, 347.492274, 339.37376800000004, 404.487329, 412.711974, 411.881017, 416.27065600000003, 416.27065600000003, 412.082468, 411.685765, 406.546788, 406.546788, 407.703669, 413.672852, 413.672852, 411.537753, 406.717535, 411.169274, 407.737176, 407.737176, 407.008843, 407.008843, 409.225105, 409.303582, 409.303582, 406.39795100000003, 408.113781, 408.515709, 410.48787500000003, 410.52970500000004, 409.869559, 408.576423, 410.97562600000003, 410.304204, 413.936764, 410.99006099999997, 410.99006099999997, 408.518692, 411.488246, 408.991287, 408.991287, 412.267214, 412.267214, 407.238732, 408.32754, 407.457013, 411.451862, 409.974012, 409.974012, 414.195573, 403.308083, 408.771939, 405.275986, 408.388925, 406.05719999999997, 406.432863, 408.35022200000003, 407.794036, 411.784908, 407.247165, 406.854461, 403.763099, 406.482925, 411.684124, 406.65206, 404.97772199999997, 404.97772199999997, 371.858254, 338.445133, 334.42681400000004, 312.044579, 270.786581, 258.464746, 258.232937, 257.634214, 257.634214, 182.21384, 182.21384, 179.57500399999998, 190.187914, 137.854012, 141.84173500000003, 150.423411, 150.423411, 118.35781800000001, 105.82505500000002, 105.82505500000002, 145.31284599999998, 99.35771299999999, 93.555384, 99.41042800000002, 106.252613, 106.252613, 88.84071999999998, 99.18208600000003, 99.18208600000003, 54.074899000000016, 51.60747600000002, 87.21640300000001, 80.19075099999998, 80.19075099999998, 64.92648100000002, 67.41604799999999, 73.877789, 59.368652999999995, 54.33445999999998, 62.50872399999997, 63.35207300000002, 56.889340000000004, 56.889340000000004, 62.11538300000001, 83.68895199999997, 62.883376, 60.906717000000015, 59.51482499999997, 98.15231999999997, 90.680026, 88.860795, 94.49675400000001, 126.72769599999998, 121.68090000000001, 125.25067000000001, 123.95092299999999, 123.95092299999999, 160.414446, 129.663976, 127.28198800000001, 154.17037699999997, 141.242413, 146.766441, 125.89544799999999, 178.58229699999998, 181.585577, 178.53449999999998, 177.542083, 249.084455, 225.986749, 225.986749, 215.14350000000002, 250.621518, 293.907196, 293.907196, 298.092757, 342.278363, 335.284301, 349.685323, 342.236482, 400.096326, 400.096326, 415.993958, 414.027227, 414.829234, 416.552902, 413.081157, 413.61118799999997, 411.55528, 410.068257, 408.438558, 411.829932, 411.829932, 411.64299, 412.075148, 411.951664, 404.687978, 410.558715, 410.558715, 407.705054, 407.705054, 410.618029, 407.355872, 406.85862, 408.988523, 410.221199, 408.622299, 410.624011, 411.010191, 406.962006, 409.03089, 404.320039, 404.924685, 407.62024099999996, 404.640622, 407.160717, 407.682753, 412.840646, 412.840646, 409.451621, 403.641142, 410.199343, 408.107164, 408.107164, 410.830663, 410.925708, 409.481605, 411.406548, 411.45642599999996, 407.079511, 406.94271100000003, 403.47619199999997, 406.524477, 411.420801, 406.653623, 411.323857, 405.563174, 411.270762, 413.368109]

hw_slacks_neg = [i for i in hw_slacks if i < 0]  
vpa_slacks_neg = [i for i in vpa_slacks if i < 0]  


# VPA
vpa_avg_slack = sum(vpa_slacks) / len(vpa_slacks)
vpa_perc_insuff = len(vpa_slacks_neg) / len(vpa_slacks)
if len(vpa_slacks_neg) == 0:
    vpa_avg_insuff = 0
else:
    vpa_avg_insuff = -(sum(vpa_slacks_neg)) / len(vpa_slacks_neg)

# HW
hw_avg_slack = sum(hw_slacks) / len(hw_slacks)
hw_perc_insuff = len(hw_slacks_neg) / len(hw_slacks)
if len(hw_slacks_neg) == 0:
    hw_avg_insuff = 0
else:
    hw_avg_insuff = -(sum(hw_slacks_neg)) / len(hw_slacks_neg)

# LSTM

print("vpa_avg_slack:",vpa_avg_slack)
print("vpa_perc_insuff:",vpa_perc_insuff)
print("vpa_avg_insuff:",vpa_avg_insuff)

print("hw_avg_slack:",hw_avg_slack)
print("hw_perc_insuff:",hw_perc_insuff)
print("hw_avg_insuff:",hw_avg_insuff)
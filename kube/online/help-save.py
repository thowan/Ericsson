
from pprint import pprint
import time
import json
import math
import argparse

import matplotlib.pyplot as plt
import matplotlib.animation as animation
from matplotlib import style
import numpy as np


# Import seaborn
import seaborn as sns

# a = [1,2,3,4,6,6]

# with open("output.txt", "a") as f:
#     print("a:", a, file=f)

#------cpu usage size: 301
lstm_slacks = [274.008342, 689.008342, 272.008342, 222.946091, 216.962652, 189.3302, 158.113283, 142.893669, 145.813778, 145.813778, 101.737911, 94.164028, 92.57741200000001, 54.073454999999996, 33.740711000000005, 24.827202999999997, 19.586011999999982, 10.853259999999977, -18.119951000000015, -23.60411099999999, 259.395889, 285.311518, 242.377615, 216.94773199999997, 233.056148, 242.98512899999997, 223.185724, 226.27070099999997, 236.70046100000002, 224.354579, 213.925564, 213.254276, 215.913775, 181.847438, 188.629549, 185.221584, 201.33299499999998, 160.018058, 156.33567299999999, 151.430746, 156.93097799999998, 175.692808, 157.73401, 152.918271, 157.351969, 157.79999099999998, 151.260171, 155.24863699999997, 155.18390900000003, 77.18390900000003, 114.33716700000002, 114.33716700000002, 81.52883800000001, 111.69272999999998, 108.955064, 111.40574900000001, 110.24856699999998, 147.206438, 141.498626, 139.36012699999998, 138.55446999999998, 159.40806800000001, 141.272901, 141.272901, 143.626399, 157.986785, 151.37730399999998, 96.37730399999998, 118.43487900000002, 149.757432, 136.71421199999997, 130.718755, 127.82967300000001, 170.204052, 168.44548300000002, 172.12802299999998, 170.79366800000003, 239.334372, 246.096297, 241.311882, 241.028433, 241.028433, 306.627192, 295.846508, 307.061569, 71.061569, 132.51759099999998, 131.029851, 134.175783, 139.36748599999999, 137.783106, 133.08516500000002, 133.08516500000002, 132.165391, 134.80369000000002, 134.280361, 134.280361, 135.24839, 132.497766, 133.943081, 130.549894, 130.90849300000002, 133.109575, 130.956077, 132.95996100000002, 132.95996100000002, 131.293534, 135.335462, 132.873456, 131.04150099999998, 130.306508, 133.264391, 128.917336, 136.243782, 124.486242, 124.486242, 131.41988, 130.90962100000002, 131.685717, 131.88327900000002, 132.044407, 127.117644, 124.779632, 124.779632, 131.551592, 131.628725, 130.48656499999998, 130.48656499999998, 132.115265, 134.01127400000001, 134.2799, 127.467239, 134.828025, 130.881659, 348.881659, 352.001958, 349.735214, 351.789685, 347.652182, 350.237749, 350.646519, 347.316247, 347.316247, 347.657327, 343.032172, 354.011713, 348.670527, 350.006978, 352.341378, 296.871481, 275.88091499999996, 273.27616, 281.48625000000004, 254.978081, 227.80547, 288.80547, 295.676693, 295.676693, 229.869935, 219.18442800000003, 221.810749, 201.84212000000002, 176.91173199999997, 177.060334, 173.046017, 169.802709, 158.798653, 128.78422899999998, 128.78422899999998, 136.080936, 136.080936, 134.09844900000002, 133.797481, 185.797481, 185.797481, 191.979762, 175.195714, 179.10114299999998, 147.64686799999998, 150.29462999999998, 147.506755, 147.506755, 136.82289400000002, 118.20619499999998, 118.31418200000002, 108.35444899999999, 113.64016800000002, 114.952316, 118.27213999999998, 118.067048, 116.527425, 122.052907, 117.93481300000002, 118.013871, 118.013871, 114.56703800000003, 115.876736, 159.16404699999998, 141.45475699999997, 145.23181899999997, 91.80640399999999, 91.80640399999999, 119.49148300000002, 123.186465, 122.664289, 143.41506500000003, 133.84742, 135.09606100000002, 127.233612, 159.89396299999999, 127.226628, 139.63217400000002, 139.63217400000002, 156.45095600000002, 174.189184, 177.942273, 181.52211799999998, 181.52211799999998, 181.52211799999998, 143.961801, 115.145846, 188.347389, 182.494929, 181.904724, 181.90861, 231.376382, 239.79842, 231.063822, 226.324667, 297.464447, 297.464447, 302.053723, 299.395949, 309.090027, 305.71297400000003, 302.276551, 302.276551, 122.276551, 130.848215, 122.208985, 121.179948, 127.356986, 117.692022, 121.197081, 122.380683, 122.380683, 123.620253, 129.006997, 127.620344, 127.620344, 125.29102, 126.258106, 122.118026, 124.820656, 120.576788, 120.570918, 123.460171, 123.444204, 127.856105, 122.307264, 128.371127, 127.66866, 128.013473, 122.750289, 122.470152, 126.770703, 126.199022, 122.06104, 124.070065, 124.070065, 123.641069, 123.641069, 130.00459, 224.00459, 224.00459, 220.892355, 220.03412600000001, 218.218767, 218.411598, 216.827621, 218.142053, 217.053732, 221.905511, 221.311344, 217.912214, 219.72848399999998, 222.09821, 220.303444, 210.588437, 221.359029, 222.97068000000002, 376.97068, 376.97068, 306.047796, 306.047796, 310.428127, 315.709719, 315.709719, 262.980635, 262.980635, 259.552231, 185.406531, 185.406531, 193.542501, 191.271232, 177.018325, 154.323374, 147.99923, 145.29742199999998, 240.29742199999998, 232.889292, 211.19318500000003, 205.73657100000003, 214.868893, 203.73323299999998, 185.00762400000002, 196.80510800000002, 210.26942200000002, 183.52222899999998, 181.28270500000002, 185.243769, 180.98227500000002, 153.866262, 147.53537999999998, 149.01921299999998, 152.99143199999997, 119.26468799999998, 122.471948, 123.44164699999999, 144.16862700000001, 115.29258800000002, 122.57258300000001, 122.57258300000001, 117.37366300000002, 126.81206800000001, 127.09565900000001, 124.76334800000001, 147.259795, 121.26331900000002, 119.97963299999998, 122.08484099999998, 160.945941, 147.24371100000002, 94.24371100000002, 94.24371100000002, 141.23445900000002, 129.544937, 129.743519, 131.951594, 131.951594, 131.58774, 145.10848800000002, 137.15592900000001, 169.980327, 149.37636300000003, 129.316444, 150.94511899999998, 171.83527299999997, 190.780035, 187.043838, 181.40635600000002, 80.40635600000002, 80.40635600000002, 128.425219, 129.141346, 152.738376, 194.79031, 193.009321, 192.503936, 227.00054, 230.186374, 247.507988, 244.822132, 314.008935, 310.062586, 313.369189, 313.369189, 315.922774, 311.781614, 121.781614, 121.781614, 125.1292, 121.376959, 126.558047, 124.04657, 124.987328, 119.898725, 123.91397, 123.91397, 123.741285, 125.04440199999999, 125.04440199999999, 124.835192, 127.120521, 127.120521, 123.803705, 121.758738, 126.379406, 126.509731, 124.0613, 127.015832, 127.830597, 122.444875, 122.952442, 125.176011, 120.413738, 124.580108, 124.61411, 131.501979, 124.916501, 121.173226, 121.173226, 122.591901, 126.572982, 126.707216, 118.713417, 124.206851, 126.391137, 125.763909, 125.763909, 176.763909, 176.763909, 175.346207, 176.43210299999998, 176.116204, 174.55516599999999, 171.39646, 171.279699, 175.20520399999998, 170.82779299999999, 176.052648, 176.466137]
vpa_slacks = [431.008342, 431.008342, 431.008342, 381.946091, 375.962652, 348.3302, 317.113283, 301.893669, 304.813778, 304.813778, 260.737911, 253.164028, 251.577412, 213.073455, 192.740711, 183.827203, 178.58601199999998, 169.85325999999998, 140.88004899999999, 135.395889, 135.395889, 161.31151799999998, 118.37761499999999, 92.94773199999997, 109.05614800000001, 118.98512899999997, 99.185724, 102.27070099999997, 112.70046100000002, 100.354579, 89.92556400000001, 89.254276, 91.91377499999999, 57.84743800000001, 64.629549, 61.22158400000001, 77.33299499999998, 36.018057999999996, 66.33567299999999, 61.430746, 66.93097799999998, 85.69280800000001, 67.73401000000001, 62.918271000000004, 67.351969, 67.79999099999998, 61.260171000000014, 65.24863699999997, 65.18390900000003, 65.18390900000003, 102.33716700000002, 102.33716700000002, 69.52883800000001, 99.69272999999998, 96.955064, 99.40574900000001, 98.24856699999998, 135.206438, 129.498626, 127.36012699999998, 126.55446999999998, 147.40806800000001, 129.272901, 129.272901, 131.626399, 145.986785, 139.37730399999998, 139.37730399999998, 161.43487900000002, 192.757432, 179.71421199999997, 173.718755, 170.829673, 213.204052, 211.44548300000002, 215.12802299999998, 213.79366800000003, 282.33437200000003, 289.096297, 284.31188199999997, 284.028433, 284.028433, 349.627192, 338.846508, 350.061569, 350.061569, 411.517591, 410.029851, 413.175783, 418.367486, 416.783106, 412.085165, 412.085165, 411.165391, 413.80369, 413.28036099999997, 413.28036099999997, 414.24839, 411.497766, 412.943081, 409.549894, 409.908493, 412.109575, 409.956077, 411.959961, 411.959961, 410.293534, 414.335462, 411.87345600000003, 410.041501, 375.306508, 378.264391, 373.917336, 381.243782, 369.486242, 369.486242, 376.41988000000003, 375.909621, 376.685717, 376.883279, 377.044407, 372.117644, 369.779632, 369.779632, 376.551592, 376.62872500000003, 375.486565, 375.486565, 377.115265, 379.011274, 379.2799, 372.467239, 379.828025, 375.881659, 375.881659, 379.001958, 376.735214, 378.789685, 374.652182, 377.237749, 377.646519, 374.316247, 374.316247, 374.657327, 370.032172, 381.011713, 375.670527, 377.006978, 379.341378, 323.871481, 302.88091499999996, 300.27616, 308.48625000000004, 281.978081, 254.80547, 254.80547, 261.676693, 261.676693, 195.869935, 185.18442800000003, 187.810749, 167.84212000000002, 142.91173199999997, 143.060334, 139.046017, 135.802709, 124.798653, 94.78422899999998, 94.78422899999998, 102.08093600000001, 102.08093600000001, 100.09844900000002, 99.797481, 99.797481, 99.797481, 105.979762, 89.19571400000001, 93.10114299999998, 61.646867999999984, 64.29462999999998, 61.506755, 61.506755, 50.82289400000002, 32.20619499999998, 32.31418200000002, 22.35444899999999, 61.64016800000002, 62.952315999999996, 66.27213999999998, 66.067048, 64.527425, 70.052907, 65.93481300000002, 66.013871, 66.013871, 62.567038000000025, 63.876735999999994, 107.16404699999998, 89.45475699999997, 93.23181899999997, 95.80640399999999, 95.80640399999999, 123.49148300000002, 127.186465, 126.664289, 147.41506500000003, 137.84742, 139.09606100000002, 131.233612, 163.89396299999999, 131.226628, 143.63217400000002, 143.63217400000002, 160.45095600000002, 178.189184, 181.942273, 185.52211799999998, 185.52211799999998, 185.52211799999998, 249.961801, 221.145846, 294.347389, 288.494929, 287.904724, 287.90861, 337.37638200000004, 345.79841999999996, 337.06382199999996, 332.324667, 403.464447, 403.464447, 408.053723, 405.395949, 415.090027, 411.71297400000003, 408.276551, 408.276551, 408.276551, 416.848215, 408.208985, 407.17994799999997, 413.356986, 403.692022, 407.197081, 408.380683, 408.380683, 409.620253, 415.006997, 413.620344, 413.620344, 411.29102, 412.258106, 408.118026, 410.820656, 406.57678799999996, 406.570918, 409.460171, 409.444204, 413.856105, 408.30726400000003, 414.371127, 413.66866, 414.013473, 408.750289, 408.470152, 412.770703, 412.199022, 408.06104, 410.070065, 410.070065, 409.641069, 409.641069, 416.00459, 416.00459, 416.00459, 412.892355, 412.034126, 410.218767, 410.411598, 408.827621, 410.14205300000003, 409.05373199999997, 413.905511, 413.311344, 409.912214, 411.728484, 414.09821, 412.303444, 402.588437, 413.359029, 414.97068, 414.97068, 414.97068, 344.047796, 344.047796, 348.428127, 353.709719, 353.709719, 300.980635, 300.980635, 297.552231, 223.406531, 189.406531, 197.542501, 195.271232, 181.018325, 158.323374, 151.99923, 149.29742199999998, 149.29742199999998, 141.889292, 120.19318500000003, 114.73657100000003, 123.86889300000001, 112.73323299999998, 94.00762400000002, 105.80510800000002, 119.26942200000002, 92.52222899999998, 90.28270500000002, 94.24376899999999, 89.98227500000002, 62.866262000000006, 56.535379999999975, 58.01921299999998, 61.991431999999975, 62.26468799999998, 65.471948, 66.44164699999999, 87.16862700000001, 58.29258800000002, 65.57258300000001, 65.57258300000001, 60.37366300000002, 69.81206800000001, 70.09565900000001, 67.76334800000001, 90.259795, 64.26331900000002, 62.97963299999998, 65.08484099999998, 103.945941, 90.24371100000002, 90.24371100000002, 90.24371100000002, 137.23445900000002, 125.544937, 125.74351899999999, 127.951594, 127.951594, 127.58774, 141.10848800000002, 133.15592900000001, 165.980327, 145.37636300000003, 125.31644399999999, 146.94511899999998, 167.83527299999997, 186.780035, 183.043838, 177.40635600000002, 177.40635600000002, 177.40635600000002, 225.425219, 226.141346, 249.738376, 291.79031, 290.009321, 289.503936, 324.00054, 327.186374, 344.507988, 341.822132, 411.008935, 407.062586, 410.369189, 410.369189, 412.922774, 408.781614, 408.781614, 408.781614, 412.12919999999997, 408.376959, 413.558047, 411.04657, 411.987328, 406.898725, 410.91397, 410.91397, 410.741285, 412.044402, 412.044402, 411.835192, 414.120521, 414.120521, 410.803705, 408.758738, 413.379406, 413.509731, 411.0613, 414.015832, 414.830597, 409.444875, 409.952442, 412.176011, 407.41373799999997, 411.580108, 411.61411, 418.501979, 411.916501, 408.173226, 408.173226, 409.591901, 413.572982, 413.707216, 405.713417, 411.20685100000003, 413.391137, 412.763909, 412.763909, 412.763909, 412.763909, 411.346207, 412.432103, 412.116204, 410.555166, 407.39646, 407.279699, 411.205204, 406.827793, 412.052648, 412.466137]
hw_slacks = [535.0, 460.0, 395.108076, 390.11862, 395.002678, 317.771776, 317.771776, 318.73819000000003, 317.31265099999996, 268.64281800000003, 271.92945599999996, 272.473244, 272.777397, 230.137189, 193.22850499999998, 199.575226, 197.03594099999998, 195.32336299999997, 147.09464200000002, 157.338913, 148.28400399999998, 148.40763900000002, 107.389951, 122.56824799999998, 174.56824799999998, 212.22261300000002, 168.99911600000001, 158.776658, 173.001217, 185.484153, 154.496716, 158.41931, 158.0749, 155.710963, 130.88856600000003, 131.652622, 127.69389699999999, 100.81650000000002, 106.02129200000002, 98.62588199999999, 99.37690800000001, 116.81083699999999, 102.06332700000002, 99.17067300000002, 99.17067300000002, 101.002478, 95.22474699999998, 95.88831900000002, 100.60185899999999, 118.49637100000001, 102.58572500000002, 101.530262, 101.530262, 121.18434500000001, 131.54510599999998, 131.77337899999998, 133.68957899999998, 173.77319, 157.692616, 154.06433900000002, 160.29331100000002, 179.61435799999998, 165.136997, 112.13699700000001, 158.539395, 136.45941299999998, 123.79684900000001, 135.90279900000002, 123.672552, 180.082422, 160.62359700000002, 165.461145, 160.976715, 208.126525, 206.253339, 206.253339, 191.18740200000002, 248.843999, 272.684005, 276.33770300000003, 276.33770300000003, 73.337703, 120.86637300000001, 117.15338700000001, 118.524092, 179.500021, 186.526706, 187.036411, 185.75399, 187.99241999999998, 189.94813399999998, 192.472834, 185.486309, 192.585665, 188.49864, 189.83625899999998, 190.47345, 193.970537, 188.475146, 123.475146, 128.58964, 123.360573, 127.16393099999999, 125.96782, 122.253984, 129.535584, 127.307756, 127.127317, 126.693158, 120.83955, 130.224521, 126.540766, 128.694111, 122.571104, 125.356834, 128.45811, 125.190061, 127.93382600000001, 125.615224, 124.763065, 128.747, 126.904983, 126.53559, 122.380283, 127.804168, 125.454567, 125.454567, 125.149729, 129.390891, 123.829072, 121.986922, 121.986922, 123.149635, 245.149635, 247.410289, 248.499158, 248.028216, 249.271972, 248.434686, 253.51815, 248.206002, 244.729157, 248.61982899999998, 248.365388, 249.989674, 249.989674, 247.720617, 248.94465300000002, 246.723311, 195.60870599999998, 186.36577599999998, 321.365776, 321.011931, 291.054159, 269.700505, 257.460724, 266.62726599999996, 233.631003, 201.347158, 193.956564, 191.185063, 194.478394, 142.82133499999998, 145.36681399999998, 160.41308299999997, 160.41308299999997, 107.02565700000002, 109.982125, 108.84585399999997, 173.84585399999997, 182.602491, 172.04359799999997, 174.85805900000003, 178.53738099999998, 166.15212300000002, 164.64671600000003, 177.36373200000003, 140.673613, 140.32403599999998, 136.21768600000001, 136.41553699999997, 135.018394, 109.19891000000001, 107.45948900000002, 109.375363, 111.28474599999998, 108.869595, 108.75368900000001, 108.33807300000001, 105.94449200000003, 103.908705, 108.79169000000002, 105.35665999999998, 121.920861, 107.18949800000001, 106.78163, 107.155527, 141.22024199999998, 137.85983399999998, 136.663475, 138.834178, 176.536047, 165.41952300000003, 167.19723299999998, 116.19723299999998, 151.335109, 116.58166, 114.913904, 119.30070599999999, 131.740296, 121.79018400000001, 118.383465, 132.99717700000002, 158.86167, 154.25420000000003, 157.08766400000002, 151.53835099999998, 201.023484, 196.067765, 211.183056, 189.28454499999998, 258.1913, 94.19130000000001, 117.155911, 118.97382400000001, 161.321215, 161.321215, 169.492274, 161.373768, 226.487329, 234.711974, 233.88101699999999, 238.270656, 238.270656, 234.082468, 233.685765, 228.546788, 228.546788, 229.703669, 235.672852, 125.672852, 123.537753, 118.717535, 123.169274, 119.737176, 119.737176, 119.008843, 119.008843, 121.225105, 121.303582, 121.303582, 118.397951, 120.113781, 120.515709, 122.487875, 122.529705, 121.869559, 120.576423, 122.975626, 122.304204, 125.936764, 122.990061, 122.990061, 120.518692, 123.488246, 120.991287, 120.991287, 124.267214, 124.267214, 119.238732, 120.32754, 119.457013, 123.451862, 121.974012, 205.97401200000002, 210.195573, 199.308083, 204.771939, 201.275986, 204.388925, 202.0572, 202.432863, 204.350222, 203.794036, 207.784908, 203.247165, 202.85446100000001, 199.763099, 202.482925, 207.684124, 202.65206, 200.977722, 388.97772199999997, 355.858254, 322.445133, 318.42681400000004, 330.044579, 288.786581, 276.464746, 276.232937, 275.634214, 275.634214, 200.21384, 200.21384, 197.57500399999998, 208.187914, 155.854012, 159.84173500000003, 168.423411, 168.423411, 136.357818, 123.82505500000002, 176.82505500000002, 216.31284599999998, 170.357713, 164.555384, 170.41042800000002, 177.252613, 177.252613, 159.84071999999998, 170.18208600000003, 170.18208600000003, 125.07489900000002, 122.60747600000002, 124.21640300000001, 117.19075099999998, 117.19075099999998, 101.92648100000002, 104.41604799999999, 110.877789, 96.368653, 91.33445999999998, 99.50872399999997, 100.35207300000002, 93.88934, 93.88934, 99.11538300000001, 120.68895199999997, 99.883376, 97.90671700000001, 96.51482499999997, 135.15231999999997, 127.680026, 125.860795, 131.496754, 163.72769599999998, 158.6809, 162.25067, 160.950923, 108.95092299999999, 145.414446, 114.66397599999999, 112.28198800000001, 139.17037699999997, 126.242413, 131.766441, 110.89544799999999, 163.58229699999998, 166.585577, 163.53449999999998, 162.542083, 234.084455, 210.986749, 210.986749, 200.14350000000002, 235.621518, 278.907196, 100.907196, 105.092757, 149.278363, 142.284301, 156.68532299999998, 149.236482, 207.096326, 207.096326, 222.993958, 221.027227, 221.82923399999999, 223.55290200000002, 220.081157, 220.611188, 218.55527999999998, 217.06825700000002, 215.438558, 218.82993199999999, 121.829932, 121.64299, 122.075148, 121.951664, 114.687978, 120.558715, 120.558715, 117.705054, 117.705054, 120.618029, 117.355872, 116.85862, 118.988523, 120.221199, 118.622299, 120.624011, 121.010191, 116.962006, 119.03089, 114.320039, 114.924685, 117.620241, 114.640622, 117.160717, 117.682753, 122.84064599999999, 122.84064599999999, 119.451621, 113.641142, 120.199343, 118.107164, 180.107164, 182.83066300000002, 182.925708, 181.481605, 183.406548, 183.456426, 179.079511, 178.942711, 175.476192, 178.524477, 183.42080099999998, 178.65362299999998, 183.323857, 177.563174, 183.270762, 185.368109]



lstm_slacks_neg = [i for i in lstm_slacks if i < 0]  
hw_slacks_neg = [i for i in hw_slacks if i < 0]  
vpa_slacks_neg = [i for i in vpa_slacks if i < 0]  


# VPA
vpa_avg_slack = sum(vpa_slacks) / len(vpa_slacks)
vpa_perc_insuff = len(vpa_slacks_neg) / len(vpa_slacks)
if len(vpa_slacks_neg) == 0:
    vpa_avg_insuff = 0
else:
    vpa_avg_insuff = -(sum(vpa_slacks_neg)) / len(vpa_slacks_neg)

# HW
hw_avg_slack = sum(hw_slacks) / len(hw_slacks)
hw_perc_insuff = len(hw_slacks_neg) / len(hw_slacks)
if len(hw_slacks_neg) == 0:
    hw_avg_insuff = 0
else:
    hw_avg_insuff = -(sum(hw_slacks_neg)) / len(hw_slacks_neg)
# LSTM
lstm_avg_slack = sum(lstm_slacks) / len(lstm_slacks)
lstm_perc_insuff = len(lstm_slacks_neg) / len(lstm_slacks)
if len(lstm_slacks_neg) == 0:
    lstm_avg_insuff = 0
else:
    lstm_avg_insuff = -(sum(lstm_slacks_neg)) / len(lstm_slacks_neg)



print("vpa_avg_slack:",vpa_avg_slack)
print("vpa_perc_insuff:",vpa_perc_insuff)
print("vpa_avg_insuff:",vpa_avg_insuff)

print("hw_avg_slack:",hw_avg_slack)
print("hw_perc_insuff:",hw_perc_insuff)
print("hw_avg_insuff:",hw_avg_insuff)

print("lstm_avg_slack:",lstm_avg_slack)
print("lstm_perc_insuff:",lstm_perc_insuff)
print("lstm_avg_insuff:",lstm_avg_insuff)